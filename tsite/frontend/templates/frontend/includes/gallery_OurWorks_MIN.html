{% load static %}

<script>
"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],r=!0,a=!1,n=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(o.push(c.value),!t||o.length!==t);r=!0);}catch(e){a=!0,n=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw n}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var _React=React,useState=_React.useState,Fragment=_React.Fragment,ExpositionApp=function(){var e=[{% for addr in catList.sett %}{addr:"{{ addr.address }}",photos:[{% for photo in addr.photos %}"/media/{{ photo.photo }}",{% endfor %}],cropPhotos:[{% for photo in addr.photos %}"{{ photo.photo.crop.400x400 }}",{% endfor %}]},{% endfor %}],t=[{% for addr in catList.fence %}{addr:"{{ addr.address }}",photos:[{% for photo in addr.photos %}"/media/{{ photo.photo }}",{% endfor %}],cropPhotos:[{% for photo in addr.photos %}"{{ photo.photo.crop.400x400 }}",{% endfor %}]},{% endfor %}],o=[{% for addr in catList.brick %}{addr:"{{ addr.address }}",photos:[{% for photo in addr.photos %}"/media/{{ photo.photo }}",{% endfor %}],cropPhotos:[{% for photo in addr.photos %}"{{ photo.photo.crop.400x400 }}",{% endfor %}]},{% endfor %}],r=[{% for addr in catList.monuments %}{addr:"{{ addr.address }}",photos:[{% for photo in addr.photos %}"/media/{{ photo.photo }}",{% endfor %}],cropPhotos:[{% for photo in addr.photos %}"{{ photo.photo.crop.400x400 }}",{% endfor %}]},{% endfor %}],a=[{% for addr in catList.parapet %}{addr:"{{ addr.address }}",photos:[{% for photo in addr.photos %}"/media/{{ photo.photo }}",{% endfor %}],cropPhotos:[{% for photo in addr.photos %}"{{ photo.photo.crop.400x400 }}",{% endfor %}]},{% endfor %}];return React.createElement(Fragment,null,e.length>0&&React.createElement("div",{className:"exposition__category"},React.createElement("h2",{className:"exposition__subtitle"},"Тротуарная плитка"),React.createElement(Category,{photos:e})),t.length>0&&React.createElement("div",{className:"exposition__category"},React.createElement("h2",{className:"exposition__subtitle"},"Еврозабор"),React.createElement(Category,{photos:t})),o.length>0&&React.createElement("div",{className:"exposition__category"},React.createElement("h2",{className:"exposition__subtitle"},"Блок и Кирпич"),React.createElement(Category,{photos:o})),a.length>0&&React.createElement("div",{className:"exposition__category"},React.createElement("h2",{className:"exposition__subtitle"},"Парапеты"),React.createElement(Category,{photos:a})),r.length>0&&React.createElement("div",{className:"exposition__category"},React.createElement("h2",{className:"exposition__subtitle"},"Памятники"),React.createElement(Category,{photos:r})))},Category=function(e){var t=e.photos;return React.createElement("div",{className:"exposition__gallery"},t.map(function(e,t){return React.createElement("div",{key:t,className:"exposition__item"},React.createElement(Gallery,{imgs:e}),React.createElement("div",{className:"gallery__description"},React.createElement("p",null,e.addr)))}))};function Gallery(e){var t=e.imgs,o=_slicedToArray(useState(0),2),r=o[0],a=o[1],n=_slicedToArray(useState(!1),2),c=n[0],l=n[1],s=_slicedToArray(useState(0),2),i=s[0],d=s[1],p=t.cropPhotos,m=t.photos,h=function(){r!==p.length-1?a(r+1):a(0)},u=function(){a(0===r?p.length-1:r-1)};return React.createElement(Fragment,null,c&&React.createElement("div",{className:"full-screen"},React.createElement("span",{onClick:function(){return u()}},"<"),React.createElement("img",{className:"full-screen__image",src:m[r],alt:"Работы выполненные нашей организацией"}),React.createElement("div",{className:"glry__counter"},React.createElement("p",null,r+1," из ",p.length)),React.createElement("img",{className:"full-screen__fsicon",onClick:function(){document.body.style.overflow="",l(!1),window.scroll({top:i,left:0,behavior:"smooth"})},src:"{% static 'images/fullscreen.svg' %}",alt:""}),React.createElement("span",{onClick:function(){return h()}},">")),React.createElement("div",{className:"glry__wrapper"},React.createElement("div",{className:"glry"},React.createElement("span",{onClick:function(){return u()}},"<"),React.createElement("img",{className:"glry__main-image",src:p[r],alt:"Галлерея наших работ Тротуар Буд"}),React.createElement("div",{className:"glry__counter"},React.createElement("p",null,r+1," из ",p.length)),React.createElement("img",{className:"glry__fsicon",onClick:function(){d(window.scrollY),document.body.style.overflow="hidden",l(!0)},src:"{% static 'images/fullscreen.svg' %}",alt:"Работы по монтажу бетонных изделий под ключ в Запорожье и области"}),React.createElement("span",{onClick:function(){return h()}},">"))))}ReactDOM.render(React.createElement(ExpositionApp,null),document.getElementById("gallery"));
</script>