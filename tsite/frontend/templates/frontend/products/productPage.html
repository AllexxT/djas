{% extends 'frontend/layout/base.html' %}
{% comment %} HEAD {% endcomment %}
{% load static %}

<title>{% block title %}Купить {{ product.name }} в Запорожье выгодная Цена - ЧП Джас{% endblock title %}</title>

{% block meta %}
<link rel="stylesheet" type="text/css" href="{% static 'frontend/css/productPage.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'frontend/css/gallery.css' %}">
<meta name="description" content="{{ product.seoDescription }}">
<meta name="keywords" content="{{ product.keywords }}">

<script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
{% comment %} <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script> {% endcomment %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js" charset="utf-8"></script>



{% endblock meta %}

{% comment %} BODY {% endcomment %}
{% block content %}


<div class="pp">
    <div class="g-row">
        <div class="gallery">
            <div class="gallery__frame">
                <div class="gallery__main-frame">
                    <div class="gallery__row">
                        {% comment %} <img src="{{product.photos.0.photo.crop.400x400}}" alt=""> {% endcomment %}
                        <div id="gallery"></div>
                    </div>
                </div>
            </div>
            <div class="table-wrapper">
                <div class="title">
                    <div class="title__row">
                        <h1>{{ product.name }}</h1>
                    </div>
                </div>
                <div class="sizes">{{ product.sizes }}</div>
                {% if product.article.article == "vibropressed" %}
                <div class="table">
                    <div class="table__press"></div>
                    <div class="table__content">
                        <table>
                            <caption>Стоимость</caption>
                            <thead>
                                <tr>
                                    <th>цвет</th>
                                    {% for d in product.prices.0.depthPrice %}
                                    <th>{{ d.depth.size }}</th>
                                    {% endfor %}
                                </tr>
                            </thead>
                            <tbody>
                                {% for price in product.prices %}
                                <tr>
                                    <td>{{ price.color }}</td>
                                    {% for prs in price.depthPrice %}
                                    <td>{{ prs.price|floatformat }}</td>
                                    {% endfor %}
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
                {% else %}
                <div class="table2">
                    <div class="table2__box">
                        <div class="table2__prices-row">
                            <div class="table2__label">
                                <p><span>ЦВЕТ</span></p>
                            </div>
                            <div class="table2__label">
                                <p><span>ЦЕНА</span></p>
                            </div>
                        </div>
                        {% if product.prices|length > 0 %}
                        {% for clr in product.prices %}
                        <div class="table2__prices-row">
                            <div class="table2__label">
                                <p>{{ clr.color }}</p>
                            </div>
                            <div class="table2__label">
                                <p>{{ clr.noDepthPrice }}</p>
                            </div>
                        </div>
                        {% endfor %}
                        {% else %}
                        <div class="table2__prices-row">
                            <div class="table2__label">
                                <p>Серый</p>
                            </div>
                            <div class="table2__label">
                                <p>Уточните по телефону</p>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    <div class="pp__description">{{ product.description | safe }}</div>
</div>
<script>
"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],a=!0,n=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);a=!0);}catch(e){n=!0,c=e}finally{try{a||null==i.return||i.return()}finally{if(n)throw c}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var _React=React,useState=_React.useState,Fragment=_React.Fragment;function GalleryApp(){var e=_slicedToArray(useState(0),2),t=e[0],r=e[1],a=_slicedToArray(useState(!1),2),n=a[0],c=a[1],l=[{% for img in product.photos %}"{{ img.photo.crop.400x400 }}",{% endfor %}],i=function(){r(t!==l.length-1?t+1:0)},o=function(){r(0===t?l.length-1:t-1)};return React.createElement(Fragment,null,n&&React.createElement("div",{className:"full-screen"},React.createElement("span",{onClick:function(){return o()}},"<"),React.createElement("img",{className:"full-screen__image",src:[{% for img in product.photos %}"/media/{{ img.photo }}",{% endfor %}][t],alt:""}),React.createElement("img",{className:"full-screen__fsicon",onClick:function(){return c(!1)},src:"{% static 'images/fullscreen.svg' %}",alt:""}),React.createElement("span",{onClick:function(){return i()}},">")),React.createElement("div",{className:"glry__wrapper"},React.createElement("div",{className:"thumb-list"},[{% for img in product.photos %}"{{ img.photo.crop.50x50 }}",{% endfor %}].map(function(e,a){return React.createElement("div",{className:"thumb",key:a,onClick:function(){return function(e){r(e)}(a)}},React.createElement("img",{className:a===t?"selected-image selected-image__active":"selected-image",src:e,alt:""}))})),React.createElement("div",{className:"glry unselectable"},React.createElement("span",{onClick:function(){return o()}},"<"),React.createElement("img",{className:"glry__main-image",src:l[t],alt:""}),React.createElement("img",{className:"glry__fsicon",onClick:function(){return c(!0)},src:"{% static 'images/fullscreen.svg' %}",alt:""}),React.createElement("span",{onClick:function(){return i()}},">"))))}ReactDOM.render(React.createElement(GalleryApp,null),document.getElementById("gallery"));
</script>


{% endblock content %}